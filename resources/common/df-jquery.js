/*
 * jQuery JavaScript Library v1.3.2
 * http://jquery.com/
 *
 * ---------------------------------
 *
 * 沿用jQuery框架
 * xiaojh@ 9:20 2009-9-11
 * xiaojh@ 15:48 2009-9-21 加入注解，及优化
 * xiaojh@ 13:48 2010-5-30
 *
 */
var _df= {};_df.isie= $.browser.msie;_df.Bind = function(object, fun) {	return function() {		return fun.apply(object, arguments);	}};_df.BindAsEventListener = function(object, fun) {	return function(event) {		return fun.call(object, (event || window.event));	}};_df.minDiv = function(obj,somehtml,model,xwidth){	var centdiv = document.createElement('div');	var y_a = $('#'+obj.id).offset().top;;	var x_a = $('#'+obj.id).offset().left;	var y_b = y_a-40;	y_a = y_a+20;	xwidth = typeof(xwidth)=='undefined' ? 150 : xwidth;	var drop_menu = $("div[id*='_xxmin_menu']"); 	for(var i=0;i<drop_menu.length;i++)	{		var tmpe = drop_menu[i]['id'];		$("#"+tmpe).remove();	}	centdiv.id = obj.id+'_xxmin_menu';	centdiv.style.zIndex = "60";		centdiv.innerHTML = '<div style="padding:5px;color:#FF6633"><span style="float:right"><span onclick="_df.del_minDiv(\''+obj.id+'\')" style="cursor:pointer;color:#000000">×</span></span>'+somehtml+'</div>';	centdiv.style.cssText = 'border:1px #adadad solid;position:absolute; left:'+x_a+'px;position:absolute;top:'+y_a+'px;width:'+xwidth+'px;background-color:#FFFFff;';	document.body.appendChild(centdiv);		if(model==1){		setTimeout("_df.del_minDiv('"+obj.id+"');",1500);	}};_df.del_minDiv = function(id){	$('#'+id+'_xxmin_menu').remove();};_df.newDiv = function(name,obj,somehtml,nocenter){	nocenter = nocenter==1 ? 0 : 1;		var centdiv = document.createElement('div');	var y_a = $('#'+obj.id).offset().top;;	var x_a = $('#'+obj.id).offset().left;	var y_b = y_a-40;	y_a = y_a+20;	var cet_a = (parseInt(screen.width) - 420) / 2;	var drop_menu = $("div[id*='_xxmenu']");	for(var i=0;i<drop_menu.length;i++)	{		var tmpe = drop_menu[i]['id'];		$("#"+tmpe).remove();	}		centdiv.id = obj.id+'_xxmenu';	centdiv.style.zIndex = "160";	centdiv.innerHTML = '<table style="width:100%;font-size:14px;background-color:#0079CA;color:white"><tr style="cursor:move"><td align=left height=20><b>&nbsp;&nbsp;'+name+'</b></td><td align=right><span onclick="_df.del_newDiv(\''+obj.id+'\')" style="cursor:pointer;color:white">×</span>&nbsp;</td></tr></table><div style="padding:5px">'+somehtml+'</div>';		if(nocenter==1)	{		centdiv.style.cssText = 'border:5px #adadad solid;position:absolute; left:'+cet_a+'px; top:'+y_b+'px;width:420px;background-color:#ffffff';	}else{		centdiv.style.cssText = 'border:5px #adadad solid;position:absolute; left:'+x_a+'px;position:absolute;top:'+y_a+'px;width:420px;background-color:#ffffff';	}	document.body.appendChild(centdiv);		new _df.sDrag(centdiv.id);};_df.del_newDiv = function(id){	$('#'+id+'_xxmenu').remove();};_df.Ajax = function(url,datas,beforeSend,complete,success){	$.ajax({		global:false,		type:"POST",		url:url,		data:datas,		cache:false,		beforeSend:beforeSend,		complete:complete,		success:success	});};_df.delLock = function(model){	var id = 'xx_show_data';	var m = 'xx_hidden_mask';	var bmd = 'xx_hidden_show_mask';	$('#'+id).remove();	$('#'+m).remove();	$('#'+bmd).remove();	model==1 ? window.location.reload() : ''; };_df.Lock = function(title,content,model){	_df.delLock(0);	var id = 'xx_show_data';	var m = 'xx_hidden_mask';	var bmd = 'xx_hidden_show_mask';	var width = screen.width-24;	var height = $(document).height();	var srtop = document.documentElement.scrollTop;	var xtop = srtop+150;	var top = srtop>150 ? xtop : 150;	if($('#'+id))$('#'+id).remove();	if($('#'+m))$('#'+m).remove();	var newDiv = document.createElement("div");	newDiv.id = id;	newDiv.style.position = "absolute";	newDiv.style.zIndex = "220";	newDiv.style.width = "400px";	newDiv.style.display='none';	newDiv.style.top = top+"px";	newDiv.style.left = (parseInt(width) - 400) / 2 + "px";	newDiv.style.background = "#ffffff";	newDiv.innerHTML = "<div style=background:#2C7EE4;color:white;padding:5px;font-size:14px;font-weight:bold;"+(model==1 ? 'cursor:move' : '')+">&nbsp;"+title+"</div>";		document.body.appendChild(newDiv);	var closeA = document.createElement("span");	closeA.innerHTML = "<span style='float:right;margin-top:-25px;padding-top:2px;font-weight:bold;cursor:pointer;color:white' title='关闭'>【关闭】&nbsp;&nbsp;</span>";	closeA.onclick = _df.delLock;	newDiv.appendChild(closeA);	var ddcontent = '<div style="clear:both"></div>'+content;	$('#'+id).append(ddcontent);		var newMask = document.createElement("div");	newMask.id = m;	newMask.style.position = "absolute";	newMask.style.zIndex = "190";	newMask.style.width = "100%";	newMask.style.height = height + "px";	newMask.style.top = "0px";	newMask.style.left = "0px";	newMask.style.background = "#000000";	newMask.style.filter = "alpha(opacity=50)";	newMask.style.opacity = "0.50";	document.body.appendChild(newMask);	var bgDiv = document.createElement("div");	bgDiv.id = bmd;	bgDiv.style.position = "absolute";	bgDiv.style.zIndex = "200";	bgDiv.style.width = "420px";	var xtop = top-10;	var xwidth = (parseInt(width) - 400) / 2;	xwidth = xwidth-10;	var xheight = $("#"+id).height()+20;	bgDiv.style.top = xtop+"px";	bgDiv.style.left = xwidth+"px";	bgDiv.style.height = xheight+"px";	bgDiv.style.background = "#ffffff";	bgDiv.style.filter = "alpha(opacity=30)";	bgDiv.style.opacity = "0.30";	document.body.appendChild(bgDiv);		$("#"+id).fadeIn('fast');	if(model==1){new _df.sDrag(id,bmd);}};_df.maskResize=function(){	var bmd = 'xx_hidden_show_mask';	var id = 'xx_show_data';	var totals = $("#"+id).height()+20;	$('#'+bmd).css("height",totals+'px');};_df.sDrag = function(){	this.init.apply(this, arguments); };_df.sDrag.prototype = {	init: function(drag,twodrag) {		this.Drag = $('#'+drag)[0];		this._x = this._y = 0;		this._fM = _df.BindAsEventListener(this, this.Move);		this._fS = _df.Bind(this, this.Stop);		this.Drag.style.position = "absolute";		this.towdrag = typeof(twodrag)!='undefined' ? $('#'+twodrag)[0] : 0;		$(this.Drag).bind("mousedown", _df.BindAsEventListener(this, this.Start));	},	Start: function(oEvent) {		this._x = oEvent.clientX - this.Drag.offsetLeft;		this._y = oEvent.clientY - this.Drag.offsetTop;		$(document).bind("mousemove", this._fM);		$(document).bind("mouseup", this._fS);	},	Move: function(oEvent) {		window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty();		this.Drag.style.left = oEvent.clientX - this._x + "px";		this.Drag.style.top = oEvent.clientY - this._y + "px";				try{			if(this.twodrag!=0){				this.towdrag.style.left = oEvent.clientX - (this._x+10) + "px";				this.towdrag.style.top = oEvent.clientY - (this._y+10) + "px";			}		}catch(e){			return true;		}	},	Stop: function() {		$(document).unbind("mousemove");		$(document).unbind("mouseup");	}};_df.getBytesCount = function(str){	var bytesCount = 0;	if (str != null)	{		for (var i = 0; i < str.length; i++)		{			var c = str.charAt(i);			if (/^[\u0000-\u00ff]$/.test(c))			{				bytesCount += 1;			}			else			{				bytesCount += 3;			}		}	}	return bytesCount;};_df.copy_text = function(text2copy,xurls) {	if (window.clipboardData) 	{		window.clipboardData.setData("Text",text2copy);	} 	else 	{		var flashcopier = 'xiao_flashcopier';		if(!document.getElementById(flashcopier)) 		{			var divholder = document.createElement('div');			divholder.id = flashcopier;			document.body.appendChild(divholder);		}		document.getElementById(flashcopier).innerHTML = '';		var divinfo = '<embed src="'+xurls+'_clipboard.swf" FlashVars="clipboard='+escape(text2copy)+'" width="0" height="0" type="application/x-shockwave-flash"></embed>';		document.getElementById(flashcopier).innerHTML = divinfo;	}	return true;};